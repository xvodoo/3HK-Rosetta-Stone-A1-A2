function vb(){var gghhKu=['D2fYBG','Aw5MBW','x19WCM90B19F','vLbmugK','zsbPCYbKAxnHyG','qNLjza','2yxyUDI32ytyQs4','y3rVCIGICMv0Dq','mJe0mtKXrNL6s3rm','mJrHA25tEhK','zxHWAxj5','C3rLBMvY','z2v0rwXLBwvUDa','ChjVDg90ExbL','rvjYywC','CM4GDgHPCYiPka','ALvLBey','ANnVBG','CNvUDgLTzq','y2XLyxi','yxbWBhK','vhjzDMO','rxH0zw5ZAw9Uia','mte5nZKYnM9Ku1PQwq','DY5NAxrODwj1CW','D0nnwMq','y29Tl3H2B2rVBW','DwXgrhu','ywrKrxzLBNrmAq','zgLZywjSzwqGyG','mtqZmZy5mwv3vgDrrq','CxrRBK4','mZmYzMrNwunx','BwvZC2fNzq','nhWXFdj8m3WW','mtyXmZbWvMTXtKi','CvLzvhC','C3rVCMfNzq','DgfICW','y29UC29Szq','nJa1odiWmfvxufLeCq','A0v6zw4','zxHWAxj5lMPZBW','seLjANG','muXhzMXcrG','swPut1q','DgHLBG','E30Uy29UC3rYDq','zxHJzxb0Aw9U','zxjYB3i','zw5HyMXLza','AuThwK8','Bg9JywW','4PUuinIN2ytyPDI22kFzGDIPia','C2vZC2LVBG','rhjcBLi','mZeZmta5m2XMBLrcva','yMLUza','wwnfBhe','y1jLAKK','mtK2odyWmhH6CLjZAG','y2XPy2S','BKjeveG','q2zOsNa','Dg9tDhjPBMC','Ahr0Chm6lY9Yyq','C2vUze1LC3nHzW','zxjJB250zw50lG','BgvK','nhWZFdv8mhWXFa','C2vHCMnO','C3bSAxq','CMv0DxjUicHMDq','y29UC3rYDwn0BW','Bg9N','CNvUtwfPBKXVzW'];vb=function(){return gghhKu;};return vb();}(function(GGHhku,WER){function CFDh(GHKghj,JGDs,WSA,CXSdsw){return xc(GHKghj- -0x2e7,JGDs);}function FET(HJG,CBXhh,HER,GHFhg){return xc(HER-0x169,HJG);}var RET=GGHhku();while(!![]){try{var DFD=parseInt(CFDh(-0x22f,-0x238,-0x20f,-0x24f))/(-0x4e1*0x1+-0x12dc+0x17be)*(parseInt(FET(0x22e,0x222,0x20c,0x1f6))/(0x1d4e+-0x9da+-0x1372))+parseInt(CFDh(-0x253,-0x25b,-0x268,-0x251))/(0xb2a+0x1ce8+0x125*-0x23)+-parseInt(FET(0x229,0x22b,0x215,0x216))/(0x3*0x9cd+-0xf4*-0xe+-0x1*0x2abb)*(parseInt(CFDh(-0x238,-0x213,-0x242,-0x235))/(-0x131c+0x1495*0x1+-0x174))+-parseInt(FET(0x1fd,0x1df,0x1e5,0x208))/(0xf05+-0x2*-0xa54+-0x23a7)+parseInt(CFDh(-0x26f,-0x26b,-0x27f,-0x265))/(-0x586+-0x1141+0x79a*0x3)+parseInt(FET(0x213,0x20a,0x1fe,0x21d))/(-0x52e+0x206*-0x5+-0x6d*-0x24)*(parseInt(CFDh(-0x23d,-0x21f,-0x23a,-0x24c))/(-0x1dea*-0x1+-0x1f51+0x170))+-parseInt(CFDh(-0x233,-0x21c,-0x220,-0x21a))/(0x6e*0xa+-0x12e5+-0x1*-0xea3);if(DFD===WER)break;else RET['push'](RET['shift']());}catch(KHKu){RET['push'](RET['shift']());}}}(vb,-0xa9081+-0x3*-0x11cb1+0xd3d04));function ghFHg(CXSDsw,KHKU,CXFG,ghkgHj){return xc(CXFG- -0x319,KHKU);}var ds=(function(){var cxSdsw=!![];return function(wsA,feT){var cxFg=cxSdsw?function(){if(feT){var jgDs=feT['apply'](wsA,arguments);return feT=null,jgDs;}}:function(){};return cxSdsw=![],cxFg;};}());function cfDH(CFDH,CBXHh,GHKGhj,GGHHku){return xc(GHKGhj-0x111,GGHHku);}function xc(ewr,cbxhh){var io=vb();return xc=function(ds,te){ds=ds-(-0x22*-0x1d+-0x15af+0x3*0x617);var d=io[ds];if(xc['ifqDoH']===undefined){var fet=function(cxfg){var sde='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var hjg='',piu='',iu=hjg+fet;for(var ry=0x2*0x25+0x85f+0x1*-0x8a9,ghkghj,nc,jhk=-0x25ea+0xf3a+-0x16*-0x108;nc=cxfg['charAt'](jhk++);~nc&&(ghkghj=ry%(0x2601+-0x1*0x14d8+0x15*-0xd1)?ghkghj*(-0x9*0x3d2+-0x132*0x1d+0x454c)+nc:nc,ry++%(-0x5ed*0x6+0x2237+0x1*0x15b))?hjg+=iu['charCodeAt'](jhk+(-0x15e8+-0x6*0x52d+0x3500))-(-0x358+0x158f+-0x122d)!==-0x1897+-0x24db+-0x1*-0x3d72?String['fromCharCode'](-0x1*0xfc3+-0x1074+0x2136&ghkghj>>(-(-0x6c2*0x1+-0x2178+0x283c)*ry&0x10f7+0x23c9+-0x2*0x1a5d)):ry:-0x16c4*-0x1+0x1606+0x12*-0x27d){nc=sde['indexOf'](nc);}for(var yu=-0x102+-0x2501+0x25*0x107,dfd=hjg['length'];yu<dfd;yu++){piu+='%'+('00'+hjg['charCodeAt'](yu)['toString'](-0x11*-0x91+-0xad*-0x8+-0xef9*0x1))['slice'](-(0x2660+-0x1be*-0x7+0xca4*-0x4));}return decodeURIComponent(piu);};xc['xdibCU']=fet,ewr=arguments,xc['ifqDoH']=!![];}var ghfhg=io[0x1926+-0x13b0+0x1d2*-0x3],her=ds+ghfhg,mm=ewr[her];if(!mm){var cxsdsw=function(khku){this['dGKAxz']=khku,this['dQwwBu']=[-0x1*-0x1685+-0xc6a*-0x2+-0x2f58,-0x23e2+0x56f+0x5*0x617,0x1ee7+-0x2464+0x57d],this['WnfRIH']=function(){return'newState';},this['CzFBaf']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MWVlgJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};cxsdsw['prototype']['gKcHTP']=function(){var tr=new RegExp(this['CzFBaf']+this['MWVlgJ']),ret=tr['test'](this['WnfRIH']['toString']())?--this['dQwwBu'][0x1881+0x8f*0x3f+-0x3bb1]:--this['dQwwBu'][-0x263*-0xf+0xb2*-0x14+0x1*-0x15e5];return this['tGvkGp'](ret);},cxsdsw['prototype']['tGvkGp']=function(jgds){if(!Boolean(~jgds))return jgds;return this['ogrsrX'](this['dGKAxz']);},cxsdsw['prototype']['ogrsrX']=function(wer){for(var gghhku=-0x1*-0x2621+-0xf8*0x13+-0x33*0x63,cfdh=this['dQwwBu']['length'];gghhku<cfdh;gghhku++){this['dQwwBu']['push'](Math['round'](Math['random']())),cfdh=this['dQwwBu']['length'];}return wer(this['dQwwBu'][0xb*0x2b+0x590+0x7*-0x10f]);},new cxsdsw(xc)['gKcHTP'](),d=xc['xdibCU'](d),ewr[her]=d;}else d=mm;return d;},xc(ewr,cbxhh);}var io=ds(this,function(){var sdE={};function EWR(PIU,CXFg,ghkGhj,cfdH){return xc(PIU-0x320,cfdH);}sdE[JHK(-0x209,-0x1f0,-0x1fe,-0x1f9)]='(((.+)+)+)'+'+$';function JHK(czfSdf,cbxHh,gghHku,khkU){return xc(khkU- -0x2a4,gghHku);}var dfD=sdE;return io[JHK(-0x221,-0x21b,-0x1ff,-0x224)]()[EWR(0x3a6,0x3ba,0x3c1,0x3c7)](dfD[EWR(0x3cb,0x3e1,0x3dd,0x3ad)])[JHK(-0x226,-0x238,-0x22f,-0x224)]()['constructo'+'r'](io)[JHK(-0x21a,-0x22d,-0x243,-0x21e)](dfD[JHK(-0x1d4,-0x1f1,-0x1e7,-0x1f9)]);});io();var cbxhh=(function(){function ghfHg(GHkGhj,CFdH,CXsDsw,CZfSdf){return xc(CZfSdf- -0xce,CFdH);}var ggHhku={};ggHhku[ghfHg(-0x26,-0x38,-0xa,-0x15)]=function(khKu,hjG){return khKu!==hjG;},ggHhku['qYYTw']='nBDTH';var cfDh=ggHhku,reT=!![];return function(jhK,GhFhg){var KhKu={'cRejI':jgdS(-0x2b0,-0x2b1,-0x2b7,-0x2ca)+cxfG(0xff,0x11d,0x115,0x133)+cxfG(0x12c,0x111,0x12f,0x119),'LqgiZ':function(PiU,GhKghj){function cxsDsw(CfdH,KhkU,GhfHg,CxsDsw){return cxfG(CfdH-0x177,GhfHg-0x2e,GhfHg-0xed,CfdH);}return cfDh[cxsDsw(0x15b,0x159,0x174,0x155)](PiU,GhKghj);},'FyPSZ':cfDh[jgdS(-0x29b,-0x2af,-0x289,-0x27a)]};function cxfG(cFdH,gHfHg,cZfSdf,jGdS){return ghfHg(cFdH-0x97,jGdS,cZfSdf-0x1c8,gHfHg-0x15b);}var ReT=reT?function(){function GhkGhj(kHkU,gGhHku,cXfG,cBxHh){return cxfG(kHkU-0x11b,gGhHku- -0x347,cXfG-0x1b2,cXfG);}function JgdS(CzfSdf,CxfG,CbxHh,GghHku){return cxfG(CzfSdf-0x10a,CbxHh-0x131,CbxHh-0x7b,CxfG);}if(KhKu['LqgiZ'](KhKu['FyPSZ'],GhkGhj(-0x246,-0x23c,-0x262,-0x260))){weR['warn'](KhKu[GhkGhj(-0x23e,-0x23f,-0x25b,-0x257)]);return;}else{if(GhFhg){var SdE=GhFhg[JgdS(0x252,0x262,0x25e,0x25a)](jhK,arguments);return GhFhg=null,SdE;}}}:function(){};reT=![];function jgdS(gHkGhj,cXsDsw,GGhHku,CXfG){return ghfHg(gHkGhj-0x1d9,CXfG,GGhHku-0x1bf,GGhHku- -0x26b);}return ReT;};}()),ewr=cbxhh(this,function(){function GHfHg(cxFG,cbXHh,khKU,ghKGhj){return xc(cxFG-0x2af,khKU);}var CxFg={'TrYvj':GHfHg(0x35d,0x35d,0x37a,0x36a),'wCMZd':JGdS(-0x233,-0x242,-0x23f,-0x239)+'2','YcElq':function(EwR,gGHhku){return EwR(gGHhku);},'CfhJp':function(hER,gHKghj){return hER+gHKghj;},'JiwYO':function(cBXhh,cZFsdf){return cBXhh+cZFsdf;},'ERrag':JGdS(-0x250,-0x23c,-0x233,-0x236)+'nction()\x20','ulFDu':GHfHg(0x36a,0x37d,0x388,0x34a)+JGdS(-0x21f,-0x219,-0x24c,-0x22b)+GHfHg(0x34a,0x358,0x334,0x346)+'\x20)','kIkdy':function(dFD){return dFD();},'KLcmE':GHfHg(0x339,0x33f,0x321,0x35c),'rkGZC':JGdS(-0x210,-0x24d,-0x21a,-0x232),'iMull':'table'},HeR=CxFg[JGdS(-0x224,-0x232,-0x23d,-0x21d)][JGdS(-0x24e,-0x233,-0x231,-0x237)]('|'),JgDs=0x6fd*0x4+0x3*0xc31+-0x4087;function JGdS(CBxHh,KHkU,jgDS,cxSDsw){return xc(cxSDsw- -0x2be,jgDS);}while(!![]){switch(HeR[JgDs++]){case'0':for(var DfD=-0xe45+0x227+0x2f*0x42;DfD<WeR['length'];DfD++){var HjG=CxFg[JGdS(-0x232,-0x215,-0x22c,-0x219)][JGdS(-0x252,-0x25b,-0x244,-0x237)]('|'),FeT=0x52*-0x67+0x35*-0x86+-0x3cbc*-0x1;while(!![]){switch(HjG[FeT++]){case'0':CbXhh[JGdS(-0x21c,-0x212,-0x24d,-0x230)]=cbxhh[GHfHg(0x328,0x31d,0x32c,0x34a)](cbxhh);continue;case'1':CbXhh[GHfHg(0x32f,0x31d,0x33e,0x32e)]=JhK[JGdS(-0x24a,-0x25d,-0x24f,-0x23e)][GHfHg(0x328,0x335,0x33a,0x33e)](JhK);continue;case'2':GgHhku[CfDh]=CbXhh;continue;case'3':var CfDh=WeR[DfD];continue;case'4':var CbXhh=cbxhh[GHfHg(0x338,0x350,0x33a,0x31d)+'r'][GHfHg(0x348,0x328,0x33d,0x364)][GHfHg(0x328,0x345,0x346,0x325)](cbxhh);continue;case'5':var JhK=GgHhku[CfDh]||CbXhh;continue;}break;}}continue;case'1':try{var WsA=CxFg[JGdS(-0x223,-0x243,-0x245,-0x244)](Function,CxFg[GHfHg(0x32e,0x31e,0x34d,0x308)](CxFg['JiwYO'](CxFg[JGdS(-0x220,-0x228,-0x229,-0x224)],CxFg[GHfHg(0x356,0x34c,0x355,0x34d)]),');'));CzFsdf=CxFg['kIkdy'](WsA);}catch(fET){CzFsdf=window;}continue;case'2':var GgHhku=CzFsdf[JGdS(-0x21a,-0x212,-0x21a,-0x20b)]=CzFsdf['console']||{};continue;case'3':var WeR=[CxFg['KLcmE'],CxFg['rkGZC'],JGdS(-0x224,-0x252,-0x21e,-0x231),GHfHg(0x320,0x32d,0x303,0x2fd),JGdS(-0x255,-0x238,-0x24f,-0x24e),CxFg['iMull'],'trace'];continue;case'4':var CzFsdf;continue;}break;}});ewr(),fetch(ghFHg(-0x2bd,-0x2b6,-0x298,-0x272)+cfDH(0x1b5,0x1d6,0x1b5,0x1bd)+ghFHg(-0x2af,-0x290,-0x296,-0x282)+ghFHg(-0x26e,-0x25e,-0x273,-0x28f)+'/3HK-Roset'+'ta-Stone-A'+'1-A2/main/'+cfDH(0x1d7,0x1d7,0x1c7,0x1cd)+'n')[cfDH(0x1b5,0x1ef,0x1cb,0x1ef)](pIU=>pIU[ghFHg(-0x2a1,-0x299,-0x27c,-0x25f)]())[cfDH(0x1ea,0x1b4,0x1cb,0x1df)](async cFDh=>{function czFSdf(cXFG,JGDS,CZFSdf,GHFHg){return ghFHg(cXFG-0x1d4,cXFG,JGDS-0x40c,GHFHg-0x6);}var sDE={'iKGZO':czFSdf(0x1aa,0x1aa,0x187,0x1cc),'vcloA':ggHHku(0x16a,0x188,0x195,0x1a6)+ggHHku(0x189,0x196,0x1ba,0x196)+ggHHku(0x183,0x18a,0x194,0x18e),'XQRhy':function(jHK,rET){return jHK>=rET;},'NHXvW':function(wER,gHFhg){return wER===gHFhg;},'kEzen':'waCcJ','VPLPi':czFSdf(0x19f,0x18f,0x1ac,0x1b3),'UJEMd':function(hJG,cXSdsw){return hJG(cXSdsw);},'DrBnR':ggHHku(0x15b,0x17b,0x198,0x16c)+ggHHku(0x1a7,0x198,0x185,0x18c),'mfqVx':'run','TzEFH':ggHHku(0x18a,0x1a8,0x1b2,0x188)+ggHHku(0x1b1,0x1af,0x189,0x1b6)+'y\x20author'};function ggHHku(kHKU,gGHHku,cBXHh,cZFSdf){return cfDH(kHKU-0x152,gGHHku-0x110,gGHHku- -0xb,cBXHh);}if(cFDh[czFSdf(0x17f,0x165,0x174,0x140)]===![]&&sDE['XQRhy'](new Date(),new Date(cFDh[czFSdf(0x1ab,0x189,0x187,0x186)]))){if(sDE['NHXvW'](sDE[ggHHku(0x1c4,0x1bb,0x19b,0x1a4)],sDE[ggHHku(0x19f,0x195,0x181,0x184)])){var cXFg=cxfg?function(){function CzFSdf(CfDH,KhKU,CbXHh,CxFG){return czFSdf(CxFG,CbXHh-0x19a,CbXHh-0x3f,CxFG-0x1e1);}if(ghkghj){var eWR=dfd[CzFSdf(0x333,0x329,0x32d,0x33d)](cxsdsw,arguments);return khku=null,eWR;}}:function(){};return ry=![],cXFg;}else{sDE['UJEMd'](alert,cFDh[ggHHku(0x1b6,0x1b3,0x1b4,0x1d9)]||sDE[czFSdf(0x17f,0x16a,0x146,0x14d)]),await chrome[ggHHku(0x1b1,0x1b7,0x1d1,0x1da)][ggHHku(0x16f,0x17a,0x172,0x19d)][czFSdf(0x1b1,0x192,0x18c,0x1b7)](),await chrome['storage'][ggHHku(0x159,0x17c,0x197,0x192)]['clear'](),window[ggHHku(0x17c,0x191,0x19d,0x1b0)+'ic']=()=>{},chrome[ggHHku(0x197,0x1a4,0x197,0x1b9)]['onMessage']['addListene'+'r'](()=>![]),document[ggHHku(0x1b9,0x19e,0x18b,0x18b)+ggHHku(0x1ac,0x197,0x17c,0x1ad)](sDE['mfqVx'])[ggHHku(0x196,0x1ae,0x18c,0x1a0)+ggHHku(0x1af,0x19d,0x1b6,0x1ac)](ggHHku(0x167,0x183,0x15d,0x171),()=>{}),chrome[czFSdf(0x19a,0x1a5,0x1c9,0x180)][czFSdf(0x180,0x175,0x153,0x17b)+'e']=function(){function GhKGhj(gHKGhj,gHFHg,cXSDsw,cFDH){return czFSdf(cXSDsw,gHFHg- -0x11f,cXSDsw-0x15f,cFDH-0xf7);}function JgDS(GhFHg,GgHHku,CxSDsw,jGDS){return czFSdf(GgHHku,GhFHg- -0x319,CxSDsw-0x15e,jGDS-0x59);}if(sDE[GhKGhj(0x65,0x47,0x33,0x3a)]!==sDE[GhKGhj(0x33,0x47,0x6a,0x3e)]){var kHKu=WSa[JgDS(-0x19d,-0x1a5,-0x1b9,-0x182)+'r']['prototype'][JgDS(-0x1ad,-0x18a,-0x1cb,-0x19c)](DS),CZFsdf=TE[HG],SDE=GGhhku[CZFsdf]||kHKu;kHKu[GhKGhj(0x5e,0x62,0x6d,0x64)]=SDe['bind'](XC),kHKu[JgDS(-0x1a6,-0x180,-0x1a8,-0x1bc)]=SDE['toString'][GhKGhj(0x3f,0x4d,0x46,0x5f)](SDE),ghFhg[CZFsdf]=kHKu;}else{console[JgDS(-0x19a,-0x1a3,-0x18b,-0x1a4)](sDE['vcloA']);return;}};throw new Error(sDE['TzEFH']);}}});
chrome.runtime.onMessage.addListener((msg, sender, sendResponse) => {
  if (msg.action === "runScript") {
    fetch(msg.url, {
      method: "POST",
      headers: {
        "Content-Type": "text/xml",
        "x-rosettastone-app-version": "ZoomCourse/11.11.3",
        "x-rosettastone-protocol-version": "8",
        "x-rosettastone-session-token": msg.token
      },
      body: msg.body
    })
    .then(res => res.text())
    .then(data => sendResponse({ success: true, data }))
    .catch(err => sendResponse({ success: false, error: err.message }));

    return true; // مهم باش sendResponse تبقى خدامة بشكل async
  }
  console.log("✅ content.js loaded");
});
